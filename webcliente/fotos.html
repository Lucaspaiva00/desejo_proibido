<!doctype html>
<html lang="pt-br">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fotos – Desejo Proibido</title>

  <link rel="stylesheet" href="css/dating.css" />
  <link rel="stylesheet" href="css/fotos.css" />
</head>

<body>

  <!-- TOPNAV -->
  <nav class="topnav" role="navigation" aria-label="Navegação principal">
    <div class="brand">
      <div class="brand-badge">DP</div>
      <span class="brand-name">Desejo Proibido</span>
    </div>

    <div class="navlinks navlinks-desktop" aria-label="Links do menu">
      <a href="home.html">Feed</a>
      <a href="perfil.html">Perfil</a>
      <a href="fotos.html" class="active">Fotos</a>
      <a href="matches.html">Matches</a>
      <a href="conversas.html">Chat</a>
    </div>

    <div class="spacer"></div>

    <button id="btnSair" class="btn btn-ghost">Sair</button>

    <button class="nav-toggle" id="navToggle" aria-label="Abrir menu" aria-expanded="false" aria-controls="navDrawer">
      <span></span><span></span><span></span>
    </button>
  </nav>

  <div class="nav-overlay" id="navOverlay" aria-hidden="true"></div>

  <aside class="nav-drawer" id="navDrawer" aria-hidden="true">
    <div class="nav-drawer-head">
      <div class="brand">
        <div class="brand-badge">DP</div>
        <span class="brand-name">Desejo Proibido</span>
      </div>

      <button class="iconbtn" id="navClose" aria-label="Fechar menu">
        <span class="xicon"></span>
      </button>
    </div>

    <div class="nav-drawer-links">
      <a href="home.html">Feed</a>
      <a href="perfil.html">Perfil</a>
      <a href="fotos.html" class="active">Fotos</a>
      <a href="matches.html">Matches</a>
      <a href="conversas.html">Chat</a>
    </div>

    <div class="nav-drawer-foot">
      <button id="btnSairMobile" class="btn btn-ghost w100">Sair</button>
    </div>
  </aside>

  <!-- CONTEÚDO -->
  <div class="wrap fotos-wrap">
    <section class="fotos-shell panel">

      <header class="fotos-head">
        <div class="fotos-title">
          Galeria Premium
          <span class="sparkle" aria-hidden="true">
            <!-- ✨ dourado real (SVG com gradiente) -->
            <svg viewBox="0 0 64 64" class="sparkle-svg">
              <defs>
                <linearGradient id="gold" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0" stop-color="#FFF2B2" />
                  <stop offset="0.45" stop-color="#FFD36A" />
                  <stop offset="1" stop-color="#C99A2E" />
                </linearGradient>
              </defs>
              <path fill="url(#gold)" d="M32 6l3.4 14.4L50 24l-14.6 3.6L32 42l-3.4-14.4L14 24l14.6-3.6L32 6z" />
              <path fill="url(#gold)" opacity=".9"
                d="M10 34l1.8 7.6L20 44l-8.2 2.1L10 54l-1.8-7.9L0 44l8.2-2.4L10 34z" />
              <path fill="url(#gold)" opacity=".85" d="M54 36l1.4 6L62 44l-6.6 1.7L54 52l-1.4-6.3L46 44l6.6-2L54 36z" />
            </svg>
          </span>
        </div>

        <div class="fotos-sub muted">Sua foto principal define sua posição no feed.</div>
      </header>

      <!-- UPLOAD (igual referência: sem input aparente) -->
      <div class="upload-area">
        <button id="btnUpload" class="upload-btn" type="button">
          <span class="upload-btn-title">Adicionar Foto</span>
          <span class="upload-btn-sub">JPG ou PNG • até 10MB</span>
        </button>

        <!-- input escondido -->
        <input id="arquivo" class="upload-input" type="file" accept="image/*" />

        <div class="upload-hint muted" id="uploadHint">Selecione uma foto para enviar.</div>
        <div id="msg" class="msgline muted"></div>
      </div>

      <!-- GRID -->
      <div id="lista" class="fotos-grid"></div>
    </section>
  </div>

  <script type="module" src="js/fotos.js"></script>

  <!-- JS do Menu (inline) -->
  <script>
    const navToggle = document.getElementById("navToggle");
    const navDrawer = document.getElementById("navDrawer");
    const navOverlay = document.getElementById("navOverlay");
    const navClose = document.getElementById("navClose");

    function openNav() {
      navDrawer.classList.add("open");
      navOverlay.classList.add("show");
      navToggle.classList.add("open");
      navToggle.setAttribute("aria-expanded", "true");
      navDrawer.setAttribute("aria-hidden", "false");
      navOverlay.setAttribute("aria-hidden", "false");
      document.body.classList.add("no-scroll");
    }

    function closeNav() {
      navDrawer.classList.remove("open");
      navOverlay.classList.remove("show");
      navToggle.classList.remove("open");
      navToggle.setAttribute("aria-expanded", "false");
      navDrawer.setAttribute("aria-hidden", "true");
      navOverlay.setAttribute("aria-hidden", "true");
      document.body.classList.remove("no-scroll");
    }

    navToggle?.addEventListener("click", () => {
      if (navDrawer.classList.contains("open")) closeNav();
      else openNav();
    });

    navOverlay?.addEventListener("click", closeNav);
    navClose?.addEventListener("click", closeNav);

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeNav();
    });

    const btnSair = document.getElementById("btnSair");
    const btnSairMobile = document.getElementById("btnSairMobile");
    if (btnSair && btnSairMobile) {
      btnSairMobile.addEventListener("click", () => btnSair.click());
    }
  </script>
</body>

</html>