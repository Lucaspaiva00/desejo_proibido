<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Matches â€“ Desejo Proibido</title>

    <link rel="stylesheet" href="css/dating.css" />
    <link rel="stylesheet" href="css/matches.css" />
</head>

<body>
    <!-- TOPNAV -->
    <nav class="topnav" role="navigation" aria-label="NavegaÃ§Ã£o principal">
        <div class="brand">
            <div class="brand-badge">DP</div>
            <span class="brand-name">Desejo Proibido</span>
        </div>

        <div class="navlinks navlinks-desktop" aria-label="Links do menu">
            <a href="home.html">Feed</a>
            <a href="perfil.html">Perfil</a>
            <a href="fotos.html">Fotos</a>
            <a href="matches.html" class="active">Matches</a>
            <a href="conversas.html">Chat</a>
        </div>

        <div class="spacer"></div>

        <button id="btnSair" class="btn btn-ghost">Sair</button>

        <button class="nav-toggle" id="navToggle" aria-label="Abrir menu" aria-expanded="false"
            aria-controls="navDrawer">
            <span></span><span></span><span></span>
        </button>
    </nav>

    <!-- Overlay + Drawer Mobile -->
    <div class="nav-overlay" id="navOverlay" aria-hidden="true"></div>

    <aside class="nav-drawer" id="navDrawer" aria-hidden="true">
        <div class="nav-drawer-head">
            <div class="brand">
                <div class="brand-badge">DP</div>
                <span class="brand-name">Desejo Proibido</span>
            </div>

            <button class="iconbtn" id="navClose" aria-label="Fechar menu">
                <span class="xicon"></span>
            </button>
        </div>

        <div class="nav-drawer-links">
            <a href="home.html">Feed</a>
            <a href="perfil.html">Perfil</a>
            <a href="fotos.html">Fotos</a>
            <a href="matches.html" class="active">Matches</a>
            <a href="conversas.html">Chat</a>
        </div>

        <div class="nav-drawer-foot">
            <button id="btnSairMobile" class="btn btn-ghost w100">Sair</button>
        </div>
    </aside>

    <!-- CONTEÃšDO -->
    <div class="wrap matches-wrap">
        <header class="matches-head">
            
            <div id="msg" class="msgline muted"></div>
        </header>

        <section class="matches-shell panel">
            <div class="matches-toolbar">
                <div class="searchbox">
                    <span class="search-ico">ðŸ”Ž</span>
                    <input id="busca" class="search-input" placeholder="Buscar por nome ou cidade..." />
                    <button id="btnLimpar" class="icon-btn" type="button" title="Limpar busca">âœ•</button>
                </div>

                <button id="btnRecarregar" class="btn btn-ghost">Recarregar</button>
            </div>

            <div class="matches-stats muted" id="stats"></div>

            <!-- GRID -->
            <div id="grid" class="match-grid"></div>

            <!-- vazio/loading (opcional, usado pelo JS) -->
            <div id="empty" class="empty-state" style="display:none;">
                <div class="empty-ico">ðŸ’˜</div>
                <div class="empty-title">Nenhum match por aqui</div>
                <div class="empty-sub muted">Quando alguÃ©m curtir vocÃª de volta, vai aparecer aqui.</div>
            </div>
        </section>
    </div>

    <!-- âœ… Importa o JS sÃ³ UMA vez -->
    <script type="module" src="js/matches.js"></script>

    <!-- Drawer Mobile -->
    <script>
        const navToggle = document.getElementById("navToggle");
        const navDrawer = document.getElementById("navDrawer");
        const navOverlay = document.getElementById("navOverlay");
        const navClose = document.getElementById("navClose");

        function openNav() {
            navDrawer.classList.add("open");
            navOverlay.classList.add("show");
            navToggle.classList.add("open");
            navToggle.setAttribute("aria-expanded", "true");
            navDrawer.setAttribute("aria-hidden", "false");
            navOverlay.setAttribute("aria-hidden", "false");
            document.body.classList.add("no-scroll");
        }

        function closeNav() {
            navDrawer.classList.remove("open");
            navOverlay.classList.remove("show");
            navToggle.classList.remove("open");
            navToggle.setAttribute("aria-expanded", "false");
            navDrawer.setAttribute("aria-hidden", "true");
            navOverlay.setAttribute("aria-hidden", "true");
            document.body.classList.remove("no-scroll");
        }

        navToggle?.addEventListener("click", () => {
            if (navDrawer.classList.contains("open")) closeNav();
            else openNav();
        });

        navOverlay?.addEventListener("click", closeNav);
        navClose?.addEventListener("click", closeNav);

        document.addEventListener("keydown", (e) => {
            if (e.key === "Escape") closeNav();
        });

        const btnSair = document.getElementById("btnSair");
        const btnSairMobile = document.getElementById("btnSairMobile");
        if (btnSair && btnSairMobile) {
            btnSairMobile.addEventListener("click", () => btnSair.click());
        }
    </script>
</body>

</html>